# AIへの作業指示

このファイルは、Claude CodeがrustfeedプロジェクトでRustコードを扱う際の指示を定義します。

## セッション開始時の手順

### 1. Serena MCPでプロジェクトを起動
必ず以下の順序で実行すること：
1. `activate_project` - 現在のディレクトリをプロジェクトとして起動
2. `check_onboarding_performed` - オンボーディング状況を確認
3. `list_memories` - 既存のメモリを確認（関連があれば読み込む）

### 2. 環境状態を確認
- `git status` - 現在のブランチと変更状況
- `cargo check` - コンパイルエラーがないか
- 直近のコミット履歴を把握

### 3. コードベースの把握
- `get_symbols_overview`で主要ファイルの構造を確認
- 作業に関連するモジュールを特定

## コード変更時の原則

- **変更前に必ず既存コードを読む** - 推測で変更しない
- **最小限の変更で目的を達成** - 必要以上に手を加えない
- **過剰なリファクタリングを避ける** - 依頼された範囲に留める
- **テストを書くか既存テストを実行** - 変更後は`cargo test`で確認

## 確認すべき事項

- 破壊的変更がある場合は事前に警告
- 複数のアプローチがある場合は選択肢を提案
- 不明点は実装前に質問
- 大きな変更は段階的に実施

## 禁止事項

- `.env`ファイルの読み取り・表示
- 本番環境への直接アクセス
- 確認なしの強制プッシュ（`git push --force`）
- ユーザーの承認なしのmain/masterへの直接コミット

## 作業完了時

- `cargo check`でコンパイルエラーがないことを確認
- `cargo test`でテストが通ることを確認
- 変更内容を簡潔に要約して報告
